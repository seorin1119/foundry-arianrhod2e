{{!-- Skill Selection Dialog Template --}}
<form class="skill-selection-form">

  {{!-- Character Class Info --}}
  <section class="skill-dialog-header">
    <h3>{{localize "ARIANRHOD.AvailableClasses"}}</h3>
    <div class="skill-dialog-classes">
      <div class="skill-dialog-class">
        <strong>{{localize "ARIANRHOD.MainClass"}}:</strong>
        {{#if hasMainClass}}
          <span class="class-main">{{localize (lookup config.mainClasses mainClass)}}</span>
        {{else}}
          <span class="class-none">{{localize "ARIANRHOD.NoMainClass"}}</span>
        {{/if}}
      </div>
      <div class="skill-dialog-class">
        <strong>{{localize "ARIANRHOD.SupportClass"}}:</strong>
        {{#if hasSupportClass}}
          <span class="class-support">{{localize (lookup config.supportClasses supportClass)}}</span>
        {{else}}
          <span class="class-none">{{localize "ARIANRHOD.NoSupportClass"}}</span>
        {{/if}}
      </div>
    </div>
  </section>

  {{!-- Filters --}}
  <section class="skill-dialog-filters">
    <div class="skill-dialog-filter-row">
      <div class="skill-dialog-filter-field">
        <label><i class="fas fa-filter"></i> {{localize "ARIANRHOD.FilterByClass"}}:</label>
        <select class="filter-class-select">
          {{#each filterOptions as |option|}}
            <option value="{{option.value}}" {{#if (eq ../filterClass option.value)}}selected{{/if}}>
              {{option.label}}
            </option>
          {{/each}}
        </select>
      </div>
      <div class="skill-dialog-filter-field">
        <label><i class="fas fa-search"></i> {{localize "ARIANRHOD.Search"}}:</label>
        <input type="text" class="search-input" value="{{searchQuery}}"
               placeholder="{{localize 'ARIANRHOD.SearchSkills'}}" />
      </div>
    </div>
  </section>

  {{!-- Skills List --}}
  <section class="skill-dialog-list">
    {{#if skills}}
      <table class="skill-dialog-table">
        <thead>
          <tr>
            <th class="col-name">{{localize "ARIANRHOD.SkillName"}}</th>
            <th class="col-class">{{localize "ARIANRHOD.SkillClass"}}</th>
            <th class="col-timing">{{localize "ARIANRHOD.Timing"}}</th>
            <th class="col-cost">{{localize "ARIANRHOD.Cost"}}</th>
            <th class="col-range">{{localize "ARIANRHOD.Range"}}</th>
            <th class="col-desc">{{localize "ARIANRHOD.Description"}}</th>
            <th class="col-action"></th>
          </tr>
        </thead>
        <tbody>
          {{#each skills as |skill|}}
            <tr class="{{#if skill.acquired}}acquired{{/if}}">
              <td class="col-name">
                <strong>{{skill.displayName}}</strong>
                {{#if skill.displayNameSub}}
                  <br><span class="skill-name-sub">{{skill.displayNameSub}}</span>
                {{/if}}
              </td>
              <td class="col-class">{{skill.classLabel}}</td>
              <td class="col-timing">{{skill.timingLabel}}</td>
              <td class="col-cost">{{skill.cost}}</td>
              <td class="col-range">{{skill.displayRange}}</td>
              <td class="col-desc">{{skill.displayDescription}}</td>
              <td class="col-action">
                {{#if skill.acquired}}
                  <span class="skill-acquired-badge"><i class="fas fa-check"></i> {{localize "ARIANRHOD.Acquired"}}</span>
                {{else}}
                  <button type="button" class="skill-select-btn" data-action="selectSkill" data-skill-id="{{skill.id}}">
                    <i class="fas fa-plus-circle"></i> {{localize "ARIANRHOD.Select"}}
                  </button>
                {{/if}}
              </td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    {{else}}
      <div class="skill-dialog-empty">
        <i class="fas fa-book-open"></i>
        <p>{{localize "ARIANRHOD.NoSkillsAvailable"}}</p>
        <p class="hint">{{localize "ARIANRHOD.SelectClassFirst"}}</p>
      </div>
    {{/if}}
  </section>

</form>
